# HTTPS

- HTTP에서 서버에서 브라우저로 전송되는 정보가 암호화되지 않는다는 보안성 문제로 생긴 보안강화형 프로토콜
- SSL(보안 소켓 계층)을 사용함으로써 문제 해결 최근에는 TLS로 업데이트 됨
  > SSL : 디지털 인증서라고도 불리며, 블라우저와 서버 사이의 암호화된 연결을 수립하는데 사용된다.

# 🍀 암호화 방식

- 대칭키 암호화 방식을 사용해 공개키의 느리다는 단점을 보완함
- 공개키 방식으로 대칭키를 전달하고, 서로 공유된 대칭키를 가지고 통신한다.

### 공개키 방식

- A키로 암호화 하면 B키로 복호화 가능, 반대로 B키로 암호화 하면 A키로 복호화 가능
- 둘 중 하나를 비공개키 혹은 개인키라 부르며, 자신만 가지고 있다.
- 나머지 하나를 공개키라고 부르며 타인에게 제공한다. 유출이 되어도 비공개키를 모르면 복호화 할 수 없기 때문에 안전하다.

### 대칭키 방식

- 동일한 키로 암호화, 복호화가 가능하다.
- 대칭키는 매번 랜덤으로 생성되어 누출되어도 다음에 사용할 때는 다른 키가 사용되기 때문에 안전하다.
- 공개키보다 빠르게 통신할 수 있다.
- 대칭키를 사용하기 위해선 인증서를 발급받아 서버에 적용시켜야 한다.
- 인증서는 통해 접속한 서버가 의도한 서버가 맞는지 보장하는 역할.
- 인증서 발급하는 기관을 CA(Certificate Authority)라고 부른다.
- 공인 인증기관의 경우 웹 브라우저는 미리 CA리스트와 함께 각 CA의 공개키를 알고 있다.

# 🍀 동작 과정

### 공개키 발급 과정

- 서버에서 공개키와 개인키를 만들고 CA에 관리를 맡긴다.
- CA는 해당 기관만의 공개키와 개인키가 있다. CA는 사이트가 제출된 데이터를 검증하고, 개인키로 사이트에서 제출한 정보를 암호화해서 인증서를 만들어 제공한다.
- 인증 기관은 웹 브라우저에게 자신의 공개키를 제공한다.

### 사용자 접속 과정

- 사용자가 사이트에 접속하면 서버는 자신의 인증서를 브라우저에게 보낸다.(CA의 개인키로 암호화한 인증서)
- 브라우저는 미리 알고 있든 CA의 공개키로 인증서를 해독하여 검증한다. 해독이 되면 사이트의 정보와 서버의 공개키를 알 수 있게 된다.
- 서버의 공개키로 대칭키를 암호화해서 다시 사이트에 보낸다.
- 사이트는 개인키로 암호문을 해독하여 대칭키를 얻게 되고, 데이터를 주고 받는다.

# 🍀 HTTPS의 장단점

### 장점

- 무결성을 보호해준다.
- 침입자가 웹 사이트와 사용자간의 통신을 엿듣는걸 방지해줌으로써 보안을 강화한다.
- SEO 관련 내용을 HTTPS 웹사이트에 대해 적용하고 있다.

### 단점

- 모든 사이트에서 텍스트를 암호화해서 주고 받으면 과부하가 걸려 속도가 느려질 수 있다.
- 무조건적으로 안전한 것은 아니다. 자체적으로 인증서를 발급 하거나, 신뢰할 수 없는 CA기업을 통해 인증서를 받을 경우가 있기 때문.
