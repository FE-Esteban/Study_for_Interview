# 이벤트 루프(event loop)

- 이벤트 루프는 자체적으로는 작은 기능을 한다.
- 콜 스택이 비어 있으면, 콜백 큐에서 첫 번째 콜백을 스택에 밀어넣어 실행하고 이를 반복하는 형태이다.
- 하지만 이벤트 루프는 런타임 환경에서 중요한 역할을 하므로 전체적인 과정을 잘 알필요가 있다.
  <br/><br/>

# 🍀 단일 스레드

- 자바스크립트는 단일 스레드이다.
- 스레드가 하나라는 말은 즉 **동시에 하나의 작업만 처리**할 수 있다는 뜻이다.
- 하지만 자바스크립트는 동시에 여러 작업이 처리되는데, 이는 **이벤트 루프를 이용해 비동기 방식으로 동시성을 지원**하기 때문이다.
  <br/><br/>

# 🍀 콜 스택(Call Stack)

- 코드가 실행될 때 쌓이는 곳으로, 보통 함수가 실행 될 때 함수 내부에 있는 Web APIs(DOM, Ajax, setTimeout)와 콘솔등이 차례로 쌓이게 된다.
- **후입선출의 방식**으로 가장 마지막에 들어온 코드부터 처리되는데, 자바스크립트 자체에서 실행되는 코드들은 바로 처리가 되면서 콜 스택에서 제거되고, Web APIs는 콜 스택에서 제거됨과 동시에 따로 Web APIs를 처리하는 곳에 넘겨진다.
  <br/><br/>

# 🍀 Web APIs

- 자바스크립트 엔진에서 처리하는 것이 아닌 **브라우저에서 제공하는 API**로, 비동기인 setTimeout, Promise, DOM 등이 있다.
- 콜 스택에서 실행된 비동기 함수들은 모두 Web API를 호출하는데, Web API에서 실행 된 뒤, 콜백 함수를 콜백 큐에 집어 넣는다.
  <br/><br/>

# 🍀 콜백 큐(Callback Queue)

- 콜백 큐는 비동기적으로 실행된 콜백 함수가 보관되는 곳이다.
- 선입 선출의 방식으로 동작되며, 여기에 있는 콜백 함수들은 콜 스택이 비어졌을 때 첫 번째 콜백이 이벤트 루프에 의해 콜 스택으로 들어가게 되고, 실행이 된 후 콜 스택에서 사라지게 된다.
- 콜백 큐에는 Task Queue, Microtask Queue, Animation Frames 등이 있다.
